<!DOCTYPE html>
<html>
  <head>
    <title>Simple Map</title>
    <script src="https://polyfill.io/v3/polyfill.min.js?features=default"></script>
    <style type="text/css">
      /* Always set the map height explicitly to define the size of the div
       * element that contains the map. */
      #map {
        height: 500px;
        width: 500px;
        margin: auto;
      }

      /* Optional: Makes the sample page fill the window. */
      
      html,body {
        height: 100%;
        margin: 0;
        padding: 0;
      }
      form{text-align: center;margin:50px auto;}
      form input{width: 350px;}

    </style>
    <script>
      let map;

      function initMap() {
        var vitri = {lat: 10.371824649098098, lng: 105.43240326983677 }
        map = new google.maps.Map(document.getElementById("map"), {
          center: vitri,
          zoom: 8,
          scrollwheel:true,
        });
        const marker = new google.maps.Marker({
          position: vitri,// vị trí mà marker hiện thị
          map: map, // bản đồ mà marker gắn lên
          animation:google.maps.Animation.BOUNCE ,
          icon:{
            url:'a.png',
            //anchor: {x:50,y:50} mình xác định vị trí cho Marker
          }
        });
        var autocomplete = new google.maps.places.Autocomplete(document.getElementById('auto_search'));
        autocomplete.addListener('place_changed',function(){
          place = autocomplete.getPlace();

          /*map.setCenter(place.geometry.location)*/
          map.fitBounds(place.geometry.viewport);
          marker.setPosition(place.geometry.location);

          console.log(autocomplete.getPlace());
        })
      }
    </script>
  </head>
  <body>
    <form action="" method="get" accept-charset="utf-8">
      <input type="" id="auto_search" name="">
    </form>
    <div id="map"></div>

    <!-- Async script executes immediately and must be after any DOM elements used in callback. -->
    <script
      src="https://maps.googleapis.com/maps/api/js?key=AIzaSyB3KjEa7xtALLCMJHqufeQP6AGQSwHDBTs&libraries=places&callback=initMap"

    ></script>
  </body>
</html>